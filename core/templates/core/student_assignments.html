{% extends "core/base.html" %}
{% load static compress %}

{% block css %}
    {% compress css %}
        <link rel="stylesheet" type="text/x-scss" href="{% static 'css/pages/classes.scss' %}" media="screen">
    {% endcompress %}
{% endblock %}

{% block main_content %}
    <!--- Custom Jumbotron -->
    <div class="container-fluid jumbotron mb-4 py-5">
        <div class="container">
            <h1 class="font-weight-bold display-6 text-center mb-3">
                {{ class }}
            </h1>
        </div>
    </div>

    <!-- Assignments Section -->
    <div class="container pb-5 mb-5">
        <div class="">
            <button type="button" class="position-fixed btn btn-danger btn-lg" id="btn-back-to-top">
                <i class="fas fa-arrow-up"></i>
            </button>
        </div>

        <!-- Current Assignments Section -->
        <div class="page-section-heading my-2">
            <h3>Current Assignments</h3>
        </div>
        <div class="row mx-3 mb-5">
            <ol class="list-group list-group-flush">
            {% for assignment in class.get_current_assignments %}
                <li class="list-group-item d-flex justify-content-between align-items-start mt-3">
                    <div class="ms-4 me-auto">
                        <h5>{{assignment.main_set}}</h5>
                        <p>{{assignment.main_set.set_description}}</p>
                        <p><small class="text-muted"><strong>Due date:</strong> {{ assignment.end_date }}</small></p>
                    </div>
                    <a class="btn btn-outline-success btn-block" href="{% url 'tutor:tutor' assignmentID=assignment.id %}" aria-pressed="true">Start Training</a>
                </li>
            {% empty %}
                <li class="list-group-item d-flex justify-content-between align-items-start mt-3">
                    <div class="ms-4 me-auto">
                        <h5 class="mt-3">No current assignments.</h5>
                    </div>
                </li>
            {% endfor %}
            </ol>
        </div>

        <!-- Past Assignments Section -->
        <div class="page-section-heading my-2">
            <h3>Past Assignments</h3>
        </div>
        <div class="row mx-3 mb-5">
            <ol class="list-group list-group-flush">
            {% for assignment in class.get_past_assignments %}
                <li class="list-group-item d-flex justify-content-between align-items-start mt-3">
                    <div class="ms-4 me-auto">
                        <h5>{{assignment.main_set}}</h5>
                        <p>{{assignment.main_set.set_description}}</p>
                        <p><small class="text-muted"><strong>Due date:</strong> {{ assignment.end_date }}</small></p>
                    </div>
                    <a class="btn btn-outline-success btn-block" href="{% url 'tutor:tutor' assignmentID=assignment.id %}" aria-pressed="true">Start Training</a>
                </li>
            {% empty %}
                <li class="list-group-item d-flex justify-content-between align-items-start mt-3">
                    <div class="ms-4 me-auto">
                        <h5 class="mt-3">No past assignments.</h5>
                    </div>
                </li>
            {% endfor %}
            </ol>
        </div>
    </div>

    <!-- Back To Top -->
    <script src="{% static 'javascript/components/backToTop.js' %}"></script>

    <!-- Page Footer -->
    {% include "core/partial/_footer.html" %}
{% endblock %}