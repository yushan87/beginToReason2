{% load static compress %}
<!DOCTYPE html>

<html lang="en">
<head>
    <!-- Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Meta: Google Domain Verification -->
    <meta name="google-site-verification" content="K5BYC_ZBxIJ7SxIeM6qSHAYmIvILEQuDSFJvxNFMOVg" />

    <title>BeginToReason</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon.ico' %}">

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    {% block css %}
    {% endblock %}

    <!-- JavaScript -->
    <script src="https://kit.fontawesome.com/d50a2fb57f.js"></script>
    {% block head_js %}
    {% endblock %}
</head>
<body>
<!-- JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
{% block body_js %}
{% endblock %}

<!-- Page Header -->
<header id="page-header" class="d-flex flex-column">
    <nav class="navbar navbar-expand-md navbar-dark py-0" role="navigation">
        <div class="container-fluid flex-column flex-lg-row">
            <a class="navbar-brand me-2" href="{% url 'index' %}">
                <img src="{% static 'images/logo/logo3.png' %}" alt="Clemson RESOLVE Logo" width="40" height="40">
                <span id="site-title" class="ps-1 text-center align-bottom">BeginToReason</span>
            </a>
            <ul class="navbar-nav flex-row me-lg-auto align-items-center text-center">
                {% if user.userinformation.user_educator %}
                    <li class="nav-item ms-3">
                        <a class="nav-link pb-0" href="{% url 'tutor:classes' %}">Student View</a>
                    </li>
                    <li class="nav-item ms-3">
                        <a class="nav-link pb-0" href="{% url 'educator:main-view' %}">Educator Tools</a>
                    </li>
                {% else %}
                    <li class="nav-item ms-3">
                        <a class="nav-link pb-0" href="{% url 'tutor:classes' %}">My Classes</a>
                    </li>
                {% endif %}
                <li class="nav-item ms-3">
                    <a class="nav-link pb-0" href="{% url 'core:privacy' %}">Privacy Policy</a>
                </li>
                {% block header_navigation_links %}
                {% endblock %}

                <li class="nav-item dropdown ms-3">
                    <a class="nav-link dropdown-toggle pb-0" href="#" id="otherLinksDropdown" role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false">External Links</a>
                    <ul class="dropdown-menu m-0" aria-labelledby="otherLinksDropdown">
                        <li>
                            <a class="dropdown-item" href="https://www.cs.clemson.edu/resolve/" target="_blank">
                                <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                                <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                Clemson RSRG Home
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="https://resolve.cs.clemson.edu/teaching" target="_blank">
                                <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                                <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                RESOLVE WebIDE
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="https://www.nsf.gov/" target="_blank">
                                <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                                <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                NSF.gov
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item ms-3">
                    <img src="{% static 'images/logo/nsf.png' %}" alt="Clemson RESOLVE Logo" width="40" height="40">
                </li>
            </ul>
            <ul class="navbar-nav flex-row my-3 ms-lg-auto align-items-center text-center">
                {% if user.is_authenticated %}
                    <li class="nav-item dropdown">
                        <button class="btn btn-auth dropdown-toggle" type="button" id="accountDropdownButton"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="far fa-user-circle" aria-hidden="true"></i>
                            <span class="d-none d-sm-inline-flex">&nbsp; </span>
                            {% if user.userinformation.user_nickname %}
                                {{ user.userinformation.user_nickname }}
                            {% else %}
                                {{ user.username }}
                            {% endif %}
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end m-0" aria-labelledby="accountDropdownButton">
                            <li>
                                <a class="dropdown-item" href="{% url 'accounts:profile' %}">
                                    <i class="fas fa-id-badge" aria-hidden="true"></i>
                                    <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                    &nbsp; My Profile
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'accounts:settings' %}">
                                    <i class="fas fa-user-cog" aria-hidden="true"></i>
                                    <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                    Settings
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'accounts:logout' %}">
                                    <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                                    <span class="d-none d-sm-inline-flex">&nbsp; </span>
                                    &nbsp;Log out
                                </a>
                            </li>
                        </ul>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="btn btn-auth" href="{% url 'accounts:login' %}" role="button">
                            <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                            <span class="d-none d-sm-inline-flex">&nbsp; </span>Log in
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </nav>
    {% if messages %}
        <div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Messages</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        {% for message in messages %}
                            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
                                {{ message }}
                            </li>
                        {% endfor %}
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</header>

<!-- Main Content Block -->
<main id="page-content" class="flex-shrink-0" role="main">
    {% block main_content %}
    {% endblock %}
</main>
</body>
{% if messages %}
    <script type="text/javascript">
        $('#messageModal').modal()
    </script>
{% endif %}
</html>